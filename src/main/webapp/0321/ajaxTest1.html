<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="../css/mystyle.css">

<style type="text/css">


</style>

<script src="../js/jquery-3.6.4.min.js" type="text/javascript"></script>

<script type="text/javascript">

var xhr= new XMLHttpRequest();
function proc1(){
	//입력한 값을 가져온다.
	tvalue=document.ff.txt.value;
	pvalue=document.ff.pass.value;
	
	console.log(tvalue,pvalue);
	//요청
	xhr.open("get","test.jsp?txt="+tvalue+"&pass="+pvalue,true);
	xhr.send();
	
	//응답
	xhr.onreadystatechange=function(){
		if(this.readyState==4&&this.status==200){
			res=this.responseText;
			$("#res").append(res);
		}
	}
}

function proc3(){
	tvalue = document.ff3.txt.value;
	pvalue = document.ff3.pass.value;
	
	//요청
	data="txt="+tvalue+"&pass="+pvalue;
	xhr.open("post","test.jsp",true);
	xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded");
	xhr.send(data);
	
	//응답
	xhr.onreadystatechange=function(){
		if(this.readyState==4&&this.status==200){
			res=this.responseText;
			$("#res3").append(res);
		}
	}
}

</script>
</head>
<body>


<div class="box">
	<p>
		기존의 동기방식을 이용한 서버전송과 응답<br>
		요청을 하고 응답을 받을때 처리결과 페이지를 통째로 받는다
	</p>	
	<input type="button" value="확인" id="btn1">

	<div class="result" id="result1">
		<form action="test.jsp" method="get"> 
			Text : <input type="text" name="txt"/><br> 
			Password : <input type="password" name="pass"/><br><br> 
			<input type="submit" value="전송버튼">
		</form>
	</div>	

</div>


<div class="box">
	<p>
		자바스크립트를 이용한 비동기방식을 이용한 서버전송과 응답<br>
		요청을 하고 응답을 받을때 처리결과 데이터를 받아서 요청페이지를 업데이트 한다<br>
		get방식
	</p>	
	<input type="button" value="확인" id="btn1">

	<div class="result" id="result2">
		<form name="ff"> 
			Text : <input type="text" name="txt"/><br> 
			Password : <input type="password" name="pass"/><br><br> 
			<input type="button" value="전송버튼" onclick="proc1()">
		</form>
	</div>	
	<div id="res">
	</div>
</div>


<div class="box">
	<p>
		자바스크립트를 이용한 비동기방식을 이용한 서버전송과 응답<br>
		요청을 하고 응답을 받을때 처리결과 데이터를 받아서 요청페이지를 업데이트 한다<br>
		post방식
	</p>	
	<input type="button" value="확인" id="btn1">

	<div class="result" id="result3">
		<form name="ff3"> 
			Text : <input type="text" name="txt"/><br> 
			Password : <input type="password" name="pass"/><br><br> 
			<input type="button" value="전송버튼" onclick="proc3()">
		</form>
	</div>	
	<div id="res3">
	</div>
</div>





</body>
</html>